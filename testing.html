<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>La ruleta de la vida</title>
    <script src="js/Winwheel.min.js"></script>
    <script src="js/TweenMax.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="js/sweetalert.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link href="css/sweetalert.css" rel="stylesheet" />
    <style type="text/css">
        body {background-color: #000000;
            background-image: url("img/bg.jpg");
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-position: center;
            background-size: 853px 480px;
            background-size: 100% 100%;
        }
    </style>
</head>
<body>
    <form id="form1" runat="server">
        <input type="button" onclick="miRuleta.startAnimation();" class="btn btn-success btn-lg btn-block" value="Girar Ruleta"/>
        <br />
        <br />
	<canvas id="canvas" height="400" width="400">
		<script>
			var miRuleta = new Winwheel({
           'numSegments': 5, // Número de segmentos
           'outerRadius': 170, // Radio externo
            'segments':[ // Datos de los segmentos
                { 'fillStyle': '#84C430', 'text': 'Autoconocimiento', 'descripcion':'Es un proceso reflexivo en el cual una persona adquiere noción de su yo, de lo que lo caracteriza, de sus cualidades y defectos, de sus limitaciones, necesidades, aficiones y temores', 'actividad':'Toma papel y lápiz y realiza una lista donde nombre tus características, debilidades y fortalezas /n Al mismo tiempo, deberás realizar una línea de tiempo donde construyas tu proyecto de vida, desde el centro de tu vida (Ahora) y lo que te propones a futuro. \n Tiempo estimado: 5 min'},
                { 'fillStyle': '#2ecc71', 'text': 'JavaScript', 'descripcion':'Es un proceso reflexivo en el cual una persona adquiere noción de su yo, de lo que lo caracteriza, de sus cualidades y defectos, de sus limitaciones, necesidades, aficiones y temores', 'actividad':'Toma papel y lápiz y realiza una lista donde nombre tus características, debilidades y fortalezas /n Al mismo tiempo, deberás realizar una línea de tiempo donde construyas tu proyecto de vida, desde el centro de tu vida (Ahora) y lo que te propones a futuro. \n Tiempo estimado: 5 min'},
                { 'fillStyle': '#e67e22', 'text': 'Python', 'descripcion':'Es un proceso reflexivo en el cual una persona adquiere noción de su yo, de lo que lo caracteriza, de sus cualidades y defectos, de sus limitaciones, necesidades, aficiones y temores', 'actividad':'Toma papel y lápiz y realiza una lista donde nombre tus características, debilidades y fortalezas /n Al mismo tiempo, deberás realizar una línea de tiempo donde construyas tu proyecto de vida, desde el centro de tu vida (Ahora) y lo que te propones a futuro. \n Tiempo estimado: 5 min'},
                { 'fillStyle': '#e74c3c', 'text': 'Php', 'descripcion':'Es un proceso reflexivo en el cual una persona adquiere noción de su yo, de lo que lo caracteriza, de sus cualidades y defectos, de sus limitaciones, necesidades, aficiones y temores', 'actividad':'Toma papel y lápiz y realiza una lista donde nombre tus características, debilidades y fortalezas /n Al mismo tiempo, deberás realizar una línea de tiempo donde construyas tu proyecto de vida, desde el centro de tu vida (Ahora) y lo que te propones a futuro. \n Tiempo estimado: 5 min'},
                { 'fillStyle': '#8e44ad', 'text': 'Go', 'descripcion':'Es un proceso reflexivo en el cual una persona adquiere noción de su yo, de lo que lo caracteriza, de sus cualidades y defectos, de sus limitaciones, necesidades, aficiones y temores', 'actividad':'Toma papel y lápiz y realiza una lista donde nombre tus características, debilidades y fortalezas /n Al mismo tiempo, deberás realizar una línea de tiempo donde construyas tu proyecto de vida, desde el centro de tu vida (Ahora) y lo que te propones a futuro. \n Tiempo estimado: 5 min'},
            ],
            'animation': { 
                'type': 'spinToStop', // Giro y alto
                'duration': 5, // Duración de giro
                'callbackFinished': 'Mensaje()', // Función para mostrar mensaje
                'callbackAfter': 'dibujarIndicador()' // Funciona de pintar indicador
            }

         });
		// Funciones complementarias 
       function Mensaje() {
           var SegmentoSeleccionado = miRuleta.getIndicatedSegment();
           winningSegment = miRuleta.getIndicatedSegment();
           swal({
               title: " ¡ "+winningSegment.text+" !",
               text: " "+winningSegment.descripcion,
               text: "" +winningSegment.actividad,
               imageUrl: "img/ruleta-logo.png",
               confirmButtonColor: "#e74c3c",
               confirmButtonText: "Ok,Reiniciar",
               closeOnConfirm: true,
               closeOnCancel: true
           })
           //Reinicio de Ruleta
           miRuleta.stopAnimation(false);
           miRuleta.rotationAngle = 0;
           miRuleta.draw();
           dibujarIndicador();
       }
	dibujarIndicador();
    function dibujarIndicador() {
            var ctx = miRuleta.ctx;
            ctx.strokeStyle = 'navy';     
            ctx.fillStyle = 'black';     
            ctx.lineWidth = 2;
            ctx.beginPath();             
            ctx.moveTo(170, 0);          
            ctx.lineTo(230, 0);          
            ctx.lineTo(200, 40);
            ctx.lineTo(171, 0);
            ctx.stroke();                
            ctx.fill();                  
       }
		</script>
	</canvas>
    </form>
</body>
</html>